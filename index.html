<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Nameesh Y ‚Ä¢ Projects</title>
<meta name="description" content="Projects and repositories by Nameesh Yadamreddy" />
<link rel="preconnect" href="https://api.github.com">
<style>
  /* ---------- THEME ---------- */
  :root{
    --bg: #0b0e14;
    --panel:#0f1420cc;      /* glass */
    --card:#0f1420; 
    --text:#e8edf7;
    --muted:#9aa3b2;
    --border:#1b2436;
    --accent:#7aa2ff;
    --chip:#151d2b;
    --ring:#2d3c5d;
    --shadow: 0 10px 25px rgba(0,0,0,.25);
  }
  :root.light{
    --bg:#f6f8fc;
    --panel:#ffffffe6;
    --card:#ffffff;
    --text:#0f172a;
    --muted:#5b6474;
    --border:#e6e9f0;
    --accent:#2b5cff;
    --chip:#f2f5ff;
    --ring:#dfe6ff;
    --shadow: 0 10px 25px rgba(16,24,40,.08);
  }
  *{box-sizing:border-box}
  html,body{margin:0;height:100%;font:16px/1.6 Inter, ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial}
  body{background:var(--bg);color:var(--text)}

  a{color:var(--accent);text-decoration:none}
  a:hover{text-decoration:underline}

  .wrap{max-width:1100px;margin:0 auto;padding:28px 18px}

  /* ---------- HERO ---------- */
  .hero{
    position:relative;
    border-radius:24px;
    padding:28px;
    overflow:hidden;
    background: radial-gradient(1200px 500px at -10% -30%, #3b5bff33, transparent 60%),
                radial-gradient(1000px 600px at 120% -20%, #00e0ff22, transparent 60%),
                var(--panel);
    border:1px solid var(--border);
    box-shadow: var(--shadow);
    display:flex;gap:18px;align-items:center;justify-content:space-between;flex-wrap:wrap;
  }
  .hero-info{display:flex;gap:18px;align-items:center}
  .avatar{
    width:64px;height:64px;border-radius:50%;
    background:linear-gradient(135deg,#7aa2ff,#00e0ff);
    box-shadow:0 6px 18px rgba(122,162,255,.35);
    display:flex;align-items:center;justify-content:center;
    color:white;font-weight:800;font-size:22px;
  }
  .title{font-size:clamp(28px,4vw,40px);font-weight:900;letter-spacing:.2px;margin:0}
  .subtitle{color:var(--muted);margin-top:4px}
  .hero-actions{display:flex;gap:10px;flex-wrap:wrap}
  .btn{
    display:inline-flex;align-items:center;gap:8px;
    padding:10px 14px;border-radius:999px;background:var(--card);
    border:1px solid var(--border)
  }
  .btn:hover{box-shadow:0 0 0 3px var(--ring)}
  .toggle{
    cursor:pointer;border:1px solid var(--border);background:var(--card);
    border-radius:10px;padding:8px 12px
  }

  /* ---------- CONTROLS ---------- */
  .controls{
    margin:18px 0 10px;display:flex;gap:10px;flex-wrap:wrap;align-items:center
  }
  .input, .select{
    background:var(--card);color:var(--text);border:1px solid var(--border);
    border-radius:10px;padding:10px 12px;min-width:220px
  }
  .chip{background:var(--chip);border:1px solid var(--border);padding:5px 10px;border-radius:999px;font-size:12px;color:var(--text)}
  .chip[data-active="true"]{outline:2px solid var(--accent); background:transparent}

  .section-title{margin:20px 0 10px;font-weight:900;letter-spacing:.3px}

  /* ---------- GRID / CARD ---------- */
  .grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:14px}
  .card{
    background:var(--card);border:1px solid var(--border);border-radius:18px;padding:16px;
    display:flex;flex-direction:column;gap:10px;position:relative;
    transform:translateY(2px);opacity:0;animation:enter .5s ease forwards
  }
  .card:hover{transform:translateY(-2px);transition:transform .12s ease, box-shadow .2s ease}
  @keyframes enter{to{transform:translateY(0);opacity:1}}
  .name{font-weight:800;font-size:18px}
  .desc{color:var(--muted);min-height:44px}
  .meta{display:flex;flex-wrap:wrap;gap:10px;color:var(--muted);font-size:14px}
  .skel{
    height:140px;border-radius:18px;background:linear-gradient(90deg, #0000, #ffffff11, #0000), var(--card);
    border:1px solid var(--border);animation:shimmer 1.2s infinite
  }
  @keyframes shimmer{0%{background-position:-150% 0}100%{background-position:150% 0}}

  footer{color:var(--muted);margin:28px 0 8px;text-align:center}
  .empty{color:var(--muted);text-align:center;border:1px dashed var(--border);border-radius:16px;padding:24px;background:var(--panel)}
</style>
</head>
<body>
  <div class="wrap">
    <section class="hero">
      <div class="hero-info">
        <!-- Replace initials or set your image as background-image on .avatar -->
        <div class="avatar" id="avatar">NY</div>
        <div>
          <h1 class="title">Nameesh Y ‚Ä¢ Projects</h1>
          <div class="subtitle">CS + Statistics @ UIUC ‚Ä¢ Backend, Data, and AI/ML. Auto-listing my public GitHub repositories.</div>
        </div>
      </div>
      <div class="hero-actions">
        <a class="btn" href="https://github.com/NameeshY" target="_blank" rel="noopener">GitHub Profile</a>
        <a class="btn" href="mailto:nameeshyadamreddy@gmail.com">Email</a>
        <button id="themeToggle" class="toggle" aria-label="Toggle theme">üåô / ‚òÄÔ∏è</button>
      </div>
    </section>

    <!-- Controls -->
    <div class="controls">
      <input id="search" class="input" placeholder="Search repositories..." />
      <select id="sort" class="select" aria-label="Sort">
        <option value="stars">Sort: Stars</option>
        <option value="updated">Sort: Last Updated</option>
        <option value="name">Sort: Name (A‚ÄìZ)</option>
      </select>
      <select id="lang" class="select" aria-label="Filter by language">
        <option value="">Language: All</option>
      </select>
      <div id="topicBar" style="display:flex;gap:8px;flex-wrap:wrap"></div>
    </div>

    <!-- Optional featured -->
    <h3 class="section-title" id="pinned-title" style="display:none">Featured</h3>
    <div class="grid" id="pinned" style="display:none"></div>

    <h3 class="section-title">All Repositories</h3>
    <div class="grid" id="repos">
      <!-- skeletons -->
      <div class="skel"></div><div class="skel"></div><div class="skel"></div>
    </div>

    <div id="empty" class="empty" style="display:none">No repositories match your filters.</div>

    <footer>Built on GitHub Pages ‚Ä¢ Fancy front-end, zero build tools ‚ú®</footer>
  </div>

<script>
  const USERNAME = "NameeshY";

  // Add exact names to pin
  const PINNED = [
    // "uiuc-weather-app",
    // "sportsiq"
  ];

  // --- Theme toggle (respects system; persists choice) ---
  const prefersLight = window.matchMedia && window.matchMedia('(prefers-color-scheme: light)').matches;
  const savedTheme = localStorage.getItem('theme');
  const root = document.documentElement;
  if ((savedTheme === 'light') || (!savedTheme && prefersLight)) root.classList.add('light');

  document.getElementById('themeToggle').onclick = () => {
    root.classList.toggle('light');
    localStorage.setItem('theme', root.classList.contains('light') ? 'light' : 'dark');
  };

  // --- Fetch repos + topics ---
  async function fetchRepos(){
    const url = `https://api.github.com/users/${USERNAME}/repos?per_page=100&sort=updated`;
    const res = await fetch(url);
    if(!res.ok) throw new Error(`GitHub API: ${res.status} ${res.statusText}`);
    // GitHub topics require v3+ preview headers, but many repos expose them anyway; fallback to empty
    const data = await res.json();
    return data.map(r => ({...r, topics: r.topics || []}));
  }

  function repoCard(r){
    const topics = (r.topics || []).slice(0,6);
    const lang = r.language ? `<span class="chip">${r.language}</span>` : "";
    const stars = r.stargazers_count ?? 0;
    const updated = new Date(r.updated_at).toLocaleDateString(undefined,{year:"numeric",month:"short",day:"numeric"});
    const desc = r.description ?? "";
    const topicChips = topics.map(t=>`<button class="chip" data-topic="${t}" title="Filter by ${t}">${t}</button>`).join("");

    return `
      <article class="card" data-name="${r.name.toLowerCase()}" data-lang="${r.language||''}" data-topics="${(r.topics||[]).join(',')}">
        <a class="name" href="${r.html_url}" target="_blank" rel="noopener">${r.name}</a>
        <div class="desc">${desc}</div>
        <div class="meta">${lang} ${topicChips}</div>
        <div class="meta"><span>‚≠ê ${stars}</span><span>‚Ä¢ Updated ${updated}</span></div>
      </article>
    `;
  }

  function mount(list, el){
    el.innerHTML = list.map(repoCard).join("");
  }

  function collectLanguages(repos){
    const set = new Set();
    repos.forEach(r => r.language && set.add(r.language));
    return Array.from(set).sort();
  }

  function collectTopics(repos){
    const set = new Set();
    repos.forEach(r => (r.topics||[]).forEach(t => set.add(t)));
    return Array.from(set).sort().slice(0,16); // show up to 16 common topics
  }

  function applyFilters(repos){
    const q = document.getElementById('search').value.trim().toLowerCase();
    const lang = document.getElementById('lang').value;
    const activeTopicBtn = document.querySelector('#topicBar .chip[data-active="true"]');
    const topic = activeTopicBtn ? activeTopicBtn.dataset.topic : "";

    let filtered = repos.filter(r => !r.fork); // hide forks by default
    if(q) filtered = filtered.filter(r => (r.name?.toLowerCase().includes(q) || (r.description||"").toLowerCase().includes(q)));
    if(lang) filtered = filtered.filter(r => (r.language||"") === lang);
    if(topic) filtered = filtered.filter(r => (r.topics||[]).includes(topic));

    const sortVal = document.getElementById('sort').value;
    filtered.sort((a,b) => {
      if(sortVal === 'name') return a.name.localeCompare(b.name);
      if(sortVal === 'updated') return new Date(b.updated_at) - new Date(a.updated_at);
      return (b.stargazers_count??0) - (a.stargazers_count??0); // stars default
    });
    return filtered;
  }

  function updateEmptyState(hasItems){
    document.getElementById('empty').style.display = hasItems ? 'none' : 'block';
    document.getElementById('repos').style.display = hasItems ? 'grid' : 'none';
  }

  (async function init(){
    try{
      let repos = await fetchRepos();

      // Build language selector
      const langs = collectLanguages(repos);
      const langSel = document.getElementById('lang');
      langs.forEach(L => {
        const opt = document.createElement('option'); opt.value=L; opt.textContent=L; langSel.appendChild(opt);
      });

      // Build topic bar
      const topics = collectTopics(repos);
      const bar = document.getElementById('topicBar');
      topics.forEach(t => {
        const b = document.createElement('button');
        b.className = 'chip'; b.textContent = t; b.dataset.topic = t;
        b.onclick = () => {
          const cur = document.querySelector('#topicBar .chip[data-active="true"]');
          if(cur && cur!==b) cur.dataset.active = "false";
          b.dataset.active = b.dataset.active==="true" ? "false" : "true";
          render();
        };
        bar.appendChild(b);
      });

      // Pinned
      if(PINNED.length){
        const pinnedRepos = PINNED.map(name => repos.find(r => r.name.toLowerCase() === name.toLowerCase())).filter(Boolean);
        if(pinnedRepos.length){
          document.getElementById('pinned-title').style.display = 'block';
          const pinEl = document.getElementById('pinned');
          pinEl.style.display = 'grid';
          mount(pinnedRepos, pinEl);
          const set = new Set(pinnedRepos.map(r=>r.name));
          repos = repos.filter(r => !set.has(r.name));
        }
      }

      // Wire controls
      ['search','sort','lang'].forEach(id => document.getElementById(id).addEventListener('input', render));

      function render(){
        const list = applyFilters(repos);
        updateEmptyState(list.length>0);
        mount(list, document.getElementById('repos'));
        // make topic chips inside cards clickable to filter
        document.querySelectorAll('#repos .chip[data-topic]').forEach(btn=>{
          btn.onclick = () => {
            const target = document.querySelector(`#topicBar .chip[data-topic="${btn.dataset.topic}"]`);
            if(target){
              const active = target.dataset.active==="true";
              document.querySelectorAll('#topicBar .chip').forEach(x=>x.dataset.active="false");
              target.dataset.active = active ? "false" : "true";
              render();
            }
          }
        });
      }

      render();

      // Optional avatar image
      // document.getElementById('avatar').style.backgroundImage = 'url(avatar.jpg)';
      // document.getElementById('avatar').textContent = ''; // clear initials if you set an image
    }catch(err){
      document.getElementById('repos').innerHTML = `<div class="empty">Failed to load repositories. ${err.message}</div>`;
    }
  })();
</script>
</body>
</html>
